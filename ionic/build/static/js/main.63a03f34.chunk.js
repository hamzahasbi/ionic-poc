(this.webpackJsonpdamMobileApp=this.webpackJsonpdamMobileApp||[]).push([[1],{127:function(e,t){},154:function(e,t,n){e.exports=n.p+"static/media/instructor.8b539f3c.svg"},165:function(e,t,n){e.exports=n(277)},171:function(e,t,n){var a={"./ion-action-sheet.entry.js":[280,5],"./ion-alert.entry.js":[281,6],"./ion-app_8.entry.js":[282,7],"./ion-avatar_3.entry.js":[283,17],"./ion-back-button.entry.js":[284,18],"./ion-backdrop.entry.js":[285,43],"./ion-button_2.entry.js":[286,19],"./ion-card_5.entry.js":[287,20],"./ion-checkbox.entry.js":[288,21],"./ion-chip.entry.js":[289,22],"./ion-col_3.entry.js":[290,44],"./ion-datetime_3.entry.js":[291,10],"./ion-fab_3.entry.js":[292,23],"./ion-img.entry.js":[293,45],"./ion-infinite-scroll_2.entry.js":[294,46],"./ion-input.entry.js":[295,24],"./ion-item-option_3.entry.js":[296,25],"./ion-item_8.entry.js":[297,26],"./ion-loading.entry.js":[298,27],"./ion-menu_3.entry.js":[299,28],"./ion-modal.entry.js":[300,8],"./ion-nav_2.entry.js":[301,14],"./ion-popover.entry.js":[302,9],"./ion-progress-bar.entry.js":[303,29],"./ion-radio_2.entry.js":[304,30],"./ion-range.entry.js":[305,31],"./ion-refresher_2.entry.js":[306,11],"./ion-reorder_2.entry.js":[307,16],"./ion-ripple-effect.entry.js":[308,47],"./ion-route_4.entry.js":[309,32],"./ion-searchbar.entry.js":[310,33],"./ion-segment_2.entry.js":[311,34],"./ion-select_3.entry.js":[312,35],"./ion-slide_2.entry.js":[313,48],"./ion-spinner.entry.js":[314,13],"./ion-split-pane.entry.js":[315,49],"./ion-tab-bar_2.entry.js":[316,36],"./ion-tab_2.entry.js":[317,15],"./ion-text.entry.js":[318,37],"./ion-textarea.entry.js":[319,38],"./ion-toast.entry.js":[320,39],"./ion-toggle.entry.js":[321,12],"./ion-virtual-scroll.entry.js":[322,50]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=171,e.exports=r},173:function(e,t,n){var a={"./ion-icon.entry.js":[324,57]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=173,e.exports=r},178:function(e,t,n){},183:function(e,t){},185:function(e,t){},225:function(e,t){},239:function(e,t){},263:function(e,t){},275:function(e,t,n){},277:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(55),c=n.n(i),l=n(48),u=n(1),s=n(162),d=(n(178),function(){return o.a.createElement("div",{className:"container"},o.a.createElement("strong",null,"Ready to create an app?"),o.a.createElement("p",null,"Start with Ionic ",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://ionicframework.com/docs/components"},"UI Components")))}),_=(n(93),function(){return o.a.createElement(u.t,null,o.a.createElement(u.j,null,o.a.createElement(u.G,null)),o.a.createElement(u.h,{fullscreen:!0},o.a.createElement(u.j,{collapse:"condense"},o.a.createElement(u.G,null,o.a.createElement(u.F,{size:"large"},"Blank"))),o.a.createElement(d,null)))}),m=n(17),f=n(12),p=n(3),h=n.n(p),v=n(10),g=n(158),y=n(151),b=n.n(y),E={frontendURL:"http://localhost:3000/",backendURL:"https://backend.daralmoukawil.com/",languages:{defaultLanguage:"fr",languages:["fr","ar"],locales:["fr-FR","ar-MA"],languageLabels:[{code:"fr",label:"Fran\xe7ais"},{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"}],languageIcon:{"fr-FR":"\ud83c\udde7\ud83c\uddf7","en-US":"\ud83c\uddfa\ud83c\uddf8"}},api:{authorization:null}};function j(){if(!a){var e=E.backendURL,t=E.api.authorization,n=E.languages.languages,r=new g.a({camelCaseTypes:!1,resourceCase:"none",pluralize:!1,axiosOptions:{httpsAgent:new b.a.Agent({rejectUnauthorized:!1}),headers:{Authorization:t}},headers:{Authorization:t}});r.endpoints=[],r.setEndpoints=function(e){return r.endpoints=e},r.getEndpoints=function(){return r.endpoints},r.getAxios=function(){return r.axios},r.interceptors.request.use((function(e){var t=Object(m.a)({},e.headers),n=JSON.parse(window.localStorage.getItem("oidc.user:".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).GATSBY_APP_AUTH_URL,":").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).GATSBY_APP_IDENTITY_CLIENT_ID)));return n&&"undefined"!==typeof n.access_token&&(t.Authorization="Bearer ".concat(n.access_token)),Object(m.a)(Object(m.a)({},e),{},{headers:t})}),(function(e){return Promise.reject(e)})),r.setEndpoint=function(e){r.axios.defaults.baseURL=e},r.getResources=function(){var e=Object(v.a)(h.a.mark((function e(t,n,a){var o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof t){e.next=2;break}throw new Error("Api.getResources:  You need to pass endpoint (multi language) [http://void-v8.dd:8083/en/api/, http://void-v8.dd:8083/fr/api/].");case 2:if("undefined"!==typeof n){e.next=4;break}throw new Error("Api.getResources:  You need to pass resource name.");case 4:if("undefined"!==typeof a){e.next=6;break}throw new Error("Api.getResources:  You need to pass params.");case 6:return r.setEndpoint(t),e.next=9,r.get(n,a);case 9:return o=e.sent,i=o.data,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),r.getResourcesV2=function(){var e=Object(v.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof t){e.next=2;break}throw new Error("Api.getResources:  You need to pass endpoint (multi language) [http://void-v8.dd:8083/en/api/, http://void-v8.dd:8083/fr/api/].");case 2:if("undefined"!==typeof n){e.next=4;break}throw new Error("Api.getResources:  You need to pass resource name.");case 4:if("undefined"!==typeof a){e.next=6;break}throw new Error("Api.getResources:  You need to pass params.");case 6:return r.setEndpoint(t),e.abrupt("return",r.get(n,a));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),r.setEndpoints(n.map((function(t){return{url:"".concat(e).concat(t,"/api/"),locale:t}}))),a=r}}j(),j();var O=0,k=1,x=2;j();var w=a.getAxios();var S=function(e){var t=e.label,n=e.link,a=e.submenu;return void 0!==a?o.a.createElement(T,{elements:a}):o.a.createElement(u.m,{routerLink:n},o.a.createElement(u.o,null,t))},T=function(e){var t=e.elements;return o.a.createElement(u.p,null,t.map((function(e,t){return o.a.createElement(S,{submenu:e.below,key:t,label:e.title,link:e.url})})))},C=function(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),n=t[0],i=t[1];return Object(u.P)((function(){[Promise.all(a.getEndpoints().map(function(){var e=Object(v.a)(h.a.mark((function e(t){var n,a,r,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,a=t.locale,r=n.replace("/api/","/_menus")+"?menu_name=main",e.prev=2,e.next=5,w.get(r);case 5:return o=e.sent,i=o.data.items,e.abrupt("return",{locale:a,items:i});case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())),Promise.all(a.getEndpoints().map(function(){var e=Object(v.a)(h.a.mark((function e(t){var n,a,r,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,a=t.locale,r=n.replace("/api/","/_menus")+"?menu_name=footer-sites",e.prev=2,e.next=5,w.get(r);case 5:return o=e.sent,i=o.data.items,e.abrupt("return",{locale:a,items:i});case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())),Promise.all(a.getEndpoints().map(function(){var e=Object(v.a)(h.a.mark((function e(t){var n,a,r,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,a=t.locale,r=n.replace("/api/","/_menus")+"?menu_name=footer-contact",e.prev=2,e.next=5,w.get(r);case 5:return o=e.sent,i=o.data.items,e.abrupt("return",{locale:a,items:i});case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())),Promise.all(a.getEndpoints().map(function(){var e=Object(v.a)(h.a.mark((function e(t){var n,a,r,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,a=t.locale,r=n.replace("/api/","/_menus")+"?menu_name=account-menu",e.prev=2,e.next=5,w.get(r);case 5:return o=e.sent,i=o.data.items,e.abrupt("return",{locale:a,items:i});case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()))][0].then((function(e){i(e[0].items)})).catch((function(e){console.log(e)}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(u.r,{side:"start",menuId:"first",contentId:"menuContent"},o.a.createElement(u.j,null,o.a.createElement(u.G,{translucent:!0,color:"primary"},o.a.createElement(u.F,null,"Menu"))),o.a.createElement(u.h,null,o.a.createElement(T,{elements:n}))),o.a.createElement(u.w,{id:"menuContent"}))},A=n(155),R=n.n(A),I=n(154),P=n.n(I);var D=function(e){var t=e.disabled,n=e.callback,a=e.loadingText;return o.a.createElement(u.k,{threshold:"100px",disabled:t,onIonInfinite:function(e){return function(e,t){t(),e.target.complete()}(e,n)}},o.a.createElement(u.l,{loadingSpinner:"bubbles",loadingText:a}))},L=function(e){var t=e.filters,n=e.handleChange,a=e.selectedTerm;return o.a.createElement(u.p,null,o.a.createElement(u.m,null,o.a.createElement(u.o,null,"Th\xe9matiques"),o.a.createElement(u.B,{interfaceOptions:{header:"Choisir une th\xe9matique",translucent:!0},interface:"action-sheet",placeholder:"Th\xe9matique","cancel-text":"Annuler","ok-text":"Confirmer",onIonChange:function(e){return n(e.detail.value)},value:a},t.map((function(e){return o.a.createElement(u.C,{key:e.id,value:e.id},e.name)})))))},U=function(e){var t=e.title,n=e.url,a=e.description,r=e.author,i=e.image,c=void 0===i?void 0:i;return o.a.createElement(u.c,{button:!0,href:n},o.a.createElement(u.e,null,o.a.createElement(u.f,null,t)),o.a.createElement(u.d,null,o.a.createElement(u.D,null,o.a.createElement("p",{dangerouslySetInnerHTML:{__html:R()(a)}})),o.a.createElement(u.m,null,o.a.createElement(u.E,{slot:"start"},o.a.createElement("img",{src:void 0===c?P.a:c,alt:"instructor thumbnail"})),o.a.createElement(u.o,null,o.a.createElement("h2",null,r.name)))))},N=function(e){var t=e.data;return console.log(t.length),o.a.createElement(u.p,null,t.map((function(e){var t={description:e.internal_user.field_vactory_instructor.about[0].value,name:"".concat(e.internal_user.field_vactory_instructor.first_name," ").concat(e.internal_user.field_vactory_instructor.last_name),profession:e.internal_user.field_vactory_instructor.profession,picture:e.internal_user.field_vactory_instructor.picture};return o.a.createElement(u.n,{key:e.drupal_internal__nid},o.a.createElement(U,{author:t,title:e.title,description:e.field_vactory_excerpt.value,url:"/".concat(e.langcode,"/academy/").concat(e.drupal_internal__nid),image:null!==t.picture?t.picture._default:void 0}))})))},z=function(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)([{id:"all",name:"Toutes"}]),l=Object(f.a)(c,2),s=l[0],d=l[1],_=Object(r.useState)(!0),p=Object(f.a)(_,2),h=p[0],v=p[1],g=Object(r.useState)("all"),y=Object(f.a)(g,2),b=y[0],E=y[1],j=Object(r.useState)(O),w=Object(f.a)(j,2),S=w[0],T=w[1],A=Object(r.useState)(0),R=Object(f.a)(A,2),I=R[0],P=R[1],U=Object(r.useState)(0),z=Object(f.a)(U,2),F=z[0],Y=z[1],B=function(e){i([]),P(0),Y(0),T(e)},G=function(e){var t=e.buttons;return o.a.createElement("section",null,o.a.createElement("header",null," Tous Les cours "),t.map((function(e){return o.a.createElement(u.b,{key:e.id,size:"small",disabled:S===e.id,color:"dark",shape:"round",onClick:function(t){return B(e.id)}},e.label,o.a.createElement(u.u,{type:"unbounded"}))})))},q=function(){v(!0),function(e,t,n,r){var o=a.getEndpoints().find((function(e){return e.locale===r})).url,i={"filter[taxonomy_term--vactory_academy_themes][condition][path]":"field_vactory_theme.drupal_internal__tid","filter[taxonomy_term--vactory_academy_themes][condition][operator]":"=","filter[taxonomy_term--vactory_academy_themes][condition][value]":t};"all"===t&&(i={});var c=(new Date).toISOString(),l={};return parseInt(e)===parseInt(O)?l={"filter[date_end][condition][path]":"field_date_et_heure.end_value","filter[date_end][condition][operator]":"<","filter[date_end][condition][value]":c}:parseInt(e)===parseInt(x)?l={"filter[date_start][condition][path]":"field_date_et_heure.value","filter[date_start][condition][operator]":">","filter[date_start][condition][value]":c}:parseInt(e)===parseInt(k)&&(l={"filter[date_start][condition][path]":"field_date_et_heure.value","filter[date_start][condition][operator]":"<=","filter[date_start][condition][value]":c,"filter[date_end][condition][path]":"field_date_et_heure.end_value","filter[date_end][condition][operator]":">=","filter[date_end][condition][value]":c}),a.getResourcesV2(o,"node/vactory_academy",Object(m.a)(Object(m.a)(Object(m.a)({page:{limit:10,offset:n},sort:"-created"},i),l),{},{fields:{"node--vactory_academy":"drupal_internal__nid,internal_user,langcode,title,path,field_vactory_date,field_vactory_excerpt,field_vactory_theme","user--user":"field_about_the_author,field_first_name,field_last_name,field_user_profession,user_picture","file--image":"uri","taxonomy_term--vactory_academy_themes":"name"},include:"field_vactory_theme"}))}(S,b,I,"fr").then((function(e){var t=e.data.map((function(e){var t="/fr"+e.path.alias;return Object(m.a)(Object(m.a)({},e),{},{path:Object(m.a)(Object(m.a)({},e.path),{},{alias:t})})}));i(n.concat(t)),v(!1)})).catch((function(e){console.log(e)}))};return Object(u.P)((function(){(function(e){var t=a.getEndpoints().find((function(t){return t.locale===e})).url;return a.getResourcesV2(t,"taxonomy_term/vactory_academy_themes",{fields:{"taxonomy_term--vactory_academy_themes":"drupal_internal__tid,name"}})})("fr").then((function(e){var t=e.data.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{id:e.drupal_internal__tid})}));d(s.concat(t))})).catch((function(e){console.log(e)}))})),Object(r.useEffect)((function(){v(!0),q()}),[b,I,S]),o.a.createElement(u.t,null,o.a.createElement(C,null),o.a.createElement(u.j,null,o.a.createElement(u.G,null,o.a.createElement(u.F,{size:"large"},o.a.createElement(u.s,{menu:"first",autoHide:!1}))),o.a.createElement(u.G,null,o.a.createElement(u.y,null))),o.a.createElement(u.h,{fullscreen:!0},o.a.createElement(L,{filters:s,selectedTerm:b,handleChange:function(e){i([]),P(0),Y(0),E(e)}}),o.a.createElement(G,{buttons:[{id:0,label:"EN REPLAY"},{id:1,label:"EN COURS"},{id:2,label:"A VENIR"}]}),h&&o.a.createElement(u.q,{cssClass:"custom-loader",isOpen:h,onDidDismiss:function(){return v(!1)},translucent:!0,message:"Chargement...",duration:1e4}),n.length>0&&o.a.createElement(N,{data:n}),o.a.createElement(D,{disabled:0===n.length,callback:function(){var e=F+1,t=Math.ceil(10*e);Y(e),P(t)},loadingText:"Loading...."})))},F=(n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),function(e){var t=e.callback,n=e.isOpen,a=e.message;return o.a.createElement(u.q,{cssClass:"custom-loader",isOpen:n,onDidDismiss:t,translucent:!0,message:a,duration:1e4})}),Y=n(156),B=n(26),G=n.n(B),q=function(e){var t=e.node,n=(t.field_nid?"node/".concat(t.field_nid):"node/".concat(t.drupal_internal__nid),G()("field_vactory_youtube_videos",t)),a=(G()("internal_user.field_vactory_instructor.picture._default",t),G()("field_vactory_file.uri.value._default",t),G()("internal_user.field_vactory_instructor.first_name",t),G()("internal_user.field_vactory_instructor.last_name",t),G()("field_vactory_theme.name",t),G()("field_vactory_excerpt.processed",t),G()("internal_user.field_vactory_instructor.about.0.value",t),G()("metatag_normalized",t),G()("title",t),G()("field_utiliser_disqus",t),Y.a.openVideo(n));return console.log(a),o.a.createElement(u.i,null,o.a.createElement(u.x,null,o.a.createElement(u.g,{size:"6",className:"ion-align-items-center"},"Col 1"),o.a.createElement(u.g,{size:"6",className:"ion-align-items-center"},"Col 2")))},H=function(e){var t=e.match,n=Object(r.useState)({}),i=Object(f.a)(n,2),c=i[0],l=i[1],s=t.params,d=s.lang,_=s.id,p=Object(r.useState)(!0),h=Object(f.a)(p,2),v=h[0],g=h[1];return Object(u.P)((function(){(function(e,t){var n=a.getEndpoints().find((function(e){return e.locale===t})).url,r={"filter[drupal_internal__nid][condition][path]":"drupal_internal__nid","filter[drupal_internal__nid][condition][operator]":"=","filter[drupal_internal__nid][condition][value]":e};return a.getResourcesV2(n,"node/vactory_academy",Object(m.a)(Object(m.a)({},r),{},{fields:{"node--vactory_academy":"drupal_internal__nid,internal_user,langcode,title,path,metatag_normalized,field_vactory_paragraphs,field_vactory_date,field_vactory_excerpt,field_vactory_youtube_videos,field_vactory_file,field_vactory_theme,node_banner_image,node_banner_mobile_image,node_banner_title,node_banner_icon,node_banner_hide_title,node_banner_hide_icon,field_contenu_lie,node_parallax,node_class,field_nid,field_utiliser_disqus","paragraph--vactory_component":"drupal_internal__id,paragraph_identifier,paragraph_container,paragraph_css_class,paragraph_background_color,paragraph_background_parallax,paragraph_background_image,field_titre_ancre,field_vactory_component,field_vactory_flag,field_vactory_flag_2,field_vactory_title","file--image":"uri","file--document":"uri,filename,filesize,filemime","taxonomy_term--vactory_academy_themes":"name"},include:"field_vactory_paragraphs,field_vactory_paragraphs.paragraph_background_image,field_vactory_paragraphs.paragraph_background_image.thumbnail,field_vactory_file,field_vactory_theme,node_banner_image,node_banner_mobile_image,node_banner_image.thumbnail,node_banner_mobile_image.thumbnail"}))})(_,d).then((function(e){l(e.data[0]),g(!1)})).catch((function(e){console.log(e)}))})),o.a.createElement(u.t,null,o.a.createElement(u.j,null,o.a.createElement(u.G,null,o.a.createElement(u.F,{size:"large"},o.a.createElement(u.s,{menu:"first",autoHide:!1}))),o.a.createElement(u.G,null,o.a.createElement(u.y,null))),o.a.createElement(u.h,{fullscreen:!0},v&&o.a.createElement(F,{callback:function(){return g(!1)},isOpen:v,message:"Chargement..."}),!v&&o.a.createElement(q,{node:c})))},M=function(){return o.a.createElement(u.a,null,o.a.createElement(s.a,null,o.a.createElement(u.w,null,o.a.createElement(l.b,{path:"/:lang/home",render:function(e){return o.a.createElement(_,e)},exact:!0}),o.a.createElement(l.b,{path:"/:lang/academy",render:function(e){return o.a.createElement(z,e)},exact:!0}),o.a.createElement(l.b,{path:"/:lang/academy/:id",render:function(e){return o.a.createElement(H,Object.assign({},e,{language:"fr"}))}}),o.a.createElement(l.b,{exact:!0,path:"/",render:function(){return o.a.createElement(l.a,{to:"/fr/academy"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},93:function(e,t,n){}},[[165,3,4]]]);
//# sourceMappingURL=main.63a03f34.chunk.js.map